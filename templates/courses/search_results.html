{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block main %}
  <section class="ftco-section contact-section bg-light pt-5">
    <div class="container">
      <div class="row d-flex contact-info">
        <div class="col-md-12 mb-4">
          <h2 class="h3">Search course</h2>
        </div>
      </div>
      <div class="row block-9">
        <div class="col-md-4 order-md-last d-flex flex-column">
          <form action="" class="bg-white p-5 contact-form" method="get">
            <h2 class="h3">Filters</h2>
            {% csrf_token %}
            {{ filter.form|crispy }}
            <div class="form-group">
              <input type="submit" value="Filter" class="btn btn-primary py-3 px-5">
            </div>
          </form>
        </div>
        <div class="col-md-8 order-md-last d-flex flex-column bg-white p-5">
          <h2 class="h3">Results</h2>
          <ul class="list-group">
            {% for course in filter.qs %}
              <li class="list-group-item">{{ course.title }} - {{ course.descrip }}</li>
            {% empty %}
              <li class="list-group-item">No courses found.</li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  </section>
{% endblock main %}